#! /bin/bash
# check if the user is on a tty or in X
if (tty | grep tty) || (ps -e | grep byobu); then
	echo 'You will need to run hackboxsetup to start the install process.' | wall;
	exit 0;
# if the user is running xorg then launch a popup on the desktop using zenity
elif (ps -e | grep Xorg) && !(tty | grep tty) && !(ps -e | grep byobu); then
	cp -v /opt/hackbox/media/launchers/hackboxRunonce.desktop /etc/xdg/autostart/hackboxRunonce.desktop;
	chmod ugo+r /etc/xdg/autostart/hackboxRunonce.desktop;
	zenity --info --text='You will need to log out and back in to start the install process.';
	exit 0;
fi
